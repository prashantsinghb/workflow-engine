apiVersion: v1
kind: ConfigMap
metadata:
  name: service-config
  namespace: {{ .Release.Namespace }}
data:
  config.yml: |
    mongodb:
      host: workflow-configdb
      port: 27017
    metricsdb:
      host: workflow-metricsdb
      port: 27017
    # Add your service-specific configuration here
    service:
      # Example:
      # host: {{ .Values.service.host | default "localhost" }}
      # port: {{ .Values.service.port | default "8080" }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: gateway-config
  namespace: {{ .Release.Namespace }}
data:
  config.yml: |
    http:
      locations:
      - prefix: /api/service
        endpoint: http://service:8080
{{- if .Values.gateway.locations }}
{{ toYaml .Values.gateway.locations | indent 6 }}
{{- end }}

